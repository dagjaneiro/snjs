{"code":"import * as tslib_1 from \"tslib\";\r\nimport _ from 'lodash';\r\nimport { SFItem } from 'standard-file-js/lib/app/models/item';\r\nvar Action = /** @class */ (function () {\r\n    function Action(json) {\r\n        _.merge(this, json);\r\n        this.running = false; // in case running=true was synced with server since model is uploaded nondiscriminatory\r\n        this.error = false;\r\n        if (this.lastExecuted) {\r\n            // is string\r\n            this.lastExecuted = new Date(this.lastExecuted);\r\n        }\r\n    }\r\n    return Action;\r\n}());\r\nexport { Action };\r\nvar SNExtension = /** @class */ (function (_super) {\r\n    tslib_1.__extends(SNExtension, _super);\r\n    function SNExtension(json) {\r\n        var _this = _super.call(this, json) || this;\r\n        if (json.actions) {\r\n            _this.actions = json.actions.map(function (action) {\r\n                return new Action(action);\r\n            });\r\n        }\r\n        if (!_this.actions) {\r\n            _this.actions = [];\r\n        }\r\n        return _this;\r\n    }\r\n    SNExtension.prototype.actionsWithContextForItem = function (item) {\r\n        return this.actions.filter(function (action) {\r\n            return action.context == item.content_type || action.context == 'Item';\r\n        });\r\n    };\r\n    SNExtension.prototype.mapContentToLocalProperties = function (content) {\r\n        _super.prototype.mapContentToLocalProperties.call(this, content);\r\n        this.description = content.description;\r\n        this.url = content.url;\r\n        this.name = content.name;\r\n        this.package_info = content.package_info;\r\n        this.supported_types = content.supported_types;\r\n        if (content.actions) {\r\n            this.actions = content.actions.map(function (action) {\r\n                return new Action(action);\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(SNExtension.prototype, \"content_type\", {\r\n        get: function () {\r\n            return 'Extension';\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    SNExtension.prototype.structureParams = function () {\r\n        var params = {\r\n            name: this.name,\r\n            url: this.url,\r\n            package_info: this.package_info,\r\n            description: this.description,\r\n            actions: this.actions.map(function (a) {\r\n                return _.omit(a, ['subrows', 'subactions']);\r\n            }),\r\n            supported_types: this.supported_types\r\n        };\r\n        var superParams = _super.prototype.structureParams.call(this);\r\n        Object.assign(superParams, params);\r\n        return superParams;\r\n    };\r\n    return SNExtension;\r\n}(SFItem));\r\nexport { SNExtension };\r\n//# sourceMappingURL=extension.js.map","references":["/Users/daj/personal/projects/standard-notes/snjs/node_modules/@types/lodash/ts3.1/index.d.ts","/Users/daj/personal/projects/standard-notes/snjs/node_modules/standard-file-js/lib/app/models/item.js"],"map":"{\"version\":3,\"file\":\"extension.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../lib/models/app/extension.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,CAAC,MAAM,QAAQ,CAAC;AACvB,OAAO,EAAE,MAAM,EAAE,MAAM,sCAAsC,CAAC;AAE9D;IAKE,gBAAY,IAAI;QACd,CAAC,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QACpB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC,CAAC,wFAAwF;QAC9G,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,IAAI,CAAC,YAAY,EAAE;YACrB,YAAY;YACZ,IAAI,CAAC,YAAY,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACjD;IACH,CAAC;IACH,aAAC;AAAD,CAAC,AAdD,IAcC;;AAED;IAAiC,uCAAM;IAQrC,qBAAY,IAAI;QAAhB,YACE,kBAAM,IAAI,CAAC,SAWZ;QATC,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,KAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAS,MAAM;gBAC7C,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;SACJ;QAED,IAAI,CAAC,KAAI,CAAC,OAAO,EAAE;YACjB,KAAI,CAAC,OAAO,GAAG,EAAE,CAAC;SACnB;;IACH,CAAC;IAED,+CAAyB,GAAzB,UAA0B,IAAI;QAC5B,OAAO,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,UAAS,MAAM;YACxC,OAAO,MAAM,CAAC,OAAO,IAAI,IAAI,CAAC,YAAY,IAAI,MAAM,CAAC,OAAO,IAAI,MAAM,CAAC;QACzE,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iDAA2B,GAA3B,UAA4B,OAAO;QACjC,iBAAM,2BAA2B,YAAC,OAAO,CAAC,CAAC;QAC3C,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,CAAC;QACvC,IAAI,CAAC,GAAG,GAAG,OAAO,CAAC,GAAG,CAAC;QACvB,IAAI,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,eAAe,GAAG,OAAO,CAAC,eAAe,CAAC;QAC/C,IAAI,OAAO,CAAC,OAAO,EAAE;YACnB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,UAAS,MAAM;gBAChD,OAAO,IAAI,MAAM,CAAC,MAAM,CAAC,CAAC;YAC5B,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAED,sBAAI,qCAAY;aAAhB;YACE,OAAO,WAAW,CAAC;QACrB,CAAC;;;OAAA;IAED,qCAAe,GAAf;QACE,IAAI,MAAM,GAAG;YACX,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,GAAG,EAAE,IAAI,CAAC,GAAG;YACb,YAAY,EAAE,IAAI,CAAC,YAAY;YAC/B,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAA,CAAC;gBACzB,OAAO,CAAC,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC,CAAC;YAC9C,CAAC,CAAC;YACF,eAAe,EAAE,IAAI,CAAC,eAAe;SACtC,CAAC;QAEF,IAAI,WAAW,GAAG,iBAAM,eAAe,WAAE,CAAC;QAC1C,MAAM,CAAC,MAAM,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;QACnC,OAAO,WAAW,CAAC;IACrB,CAAC;IACH,kBAAC;AAAD,CAAC,AA9DD,CAAiC,MAAM,GA8DtC\"}","dts":{"name":"/Users/daj/personal/projects/standard-notes/snjs/dist/types/models/app/extension.d.ts","writeByteOrderMark":false,"text":"import { SFItem } from 'standard-file-js/lib/app/models/item';\r\nexport declare class Action {\r\n    running: boolean;\r\n    error: boolean;\r\n    lastExecuted: any;\r\n    constructor(json: any);\r\n}\r\nexport declare class SNExtension extends SFItem {\r\n    actions: any;\r\n    description: any;\r\n    url: any;\r\n    name: any;\r\n    package_info: any;\r\n    supported_types: any;\r\n    constructor(json: any);\r\n    actionsWithContextForItem(item: any): any;\r\n    mapContentToLocalProperties(content: any): void;\r\n    readonly content_type: string;\r\n    structureParams(): any;\r\n}\r\n"}}
